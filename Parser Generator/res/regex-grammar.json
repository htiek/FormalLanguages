{
    "grammar": {
        "OREXPR": [
            { "production": ["CONCATEXPR"], "code": "$$ = $1;" },
            { "production": ["CONCATEXPR", "UNION", "OREXPR"], "code": "$$ = make_shared<Union>($1, $3);" }
        ],
        "CONCATEXPR": [
            { "production": ["STAREXPR"],               "code": "$$ = $1;" },
            { "production": ["STAREXPR", "CONCATEXPR"], "code": "$$ = make_shared<Concat>($1, $2);" }
        ],
        "STAREXPR": [
            { "production": ["ATOMEXPR"],             "code": "$$ = $1;" },
            { "production": ["STAREXPR", "STAR"],     "code": "$$ = make_shared<Star>($1);" },
            { "production": ["STAREXPR", "PLUS"],     "code": "$$ = make_shared<Plus>($1);" },
            { "production": ["STAREXPR", "QUESTION"], "code": "$$ = make_shared<Question>($1);" },
            { "production": ["STAREXPR", "POWER", "NUMBER"], "code": "$$ = make_shared<Power>($1, stoi($3));" }
        ],
        "ATOMEXPR": [
            { "production": ["CHARACTER"],                  "code": "$$ = make_shared<Character>(fromUTF8($1));" },
            { "production": ["SIGMA"],                      "code": "$$ = make_shared<Sigma>();" },
            { "production": ["EPSILON"],                    "code": "$$ = make_shared<Epsilon>();" },
            { "production": ["EMPTYSET"],                   "code": "$$ = make_shared<EmptySet>();" },
            { "production": ["LPAREN", "OREXPR", "RPAREN"], "code": "$$ = $2;"}
        ]
    },


    "start-symbol": "OREXPR",

    "priorities": [
        
    ],

    "nonterminal-types": {
        "OREXPR":     "std::shared_ptr<ASTNode>",
        "CONCATEXPR": "std::shared_ptr<ASTNode>",
        "UNIONEXPR":  "std::shared_ptr<ASTNode>",
        "STAREXPR":   "std::shared_ptr<ASTNode>",
        "ATOMEXPR":   "std::shared_ptr<ASTNode>"
    },

    "header-extras": [
        "#include <memory>",
        "#include \"Regex.h\"",
        "#include \"Utilities/Unicode.h\""
    ],

    "verbose": false,

    "parser-name": "Regex"
}
